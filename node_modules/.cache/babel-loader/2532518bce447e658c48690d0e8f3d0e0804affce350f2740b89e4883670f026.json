{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/YURIKIFARU/juju/src/components/Cart.jsx\",\n  _s = $RefreshSig$();\n// Cart.js\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Cart = () => {\n  _s();\n  const navigate = useNavigate();\n  const [cartItems, setCartItems] = useState([]);\n  useEffect(() => {\n    const stored = localStorage.getItem(\"cartItems\");\n    if (stored) {\n      const parsed = JSON.parse(stored).map((product, index) => ({\n        ...product,\n        quantity: product.quantity || 1,\n        unique_id: product.unique_id || `${product.id}-${index}-${Date.now()}`\n      }));\n      setCartItems(parsed);\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  }, [cartItems]);\n  const removeFromCart = unique_id => {\n    const updated = cartItems.filter(product => product.unique_id !== unique_id);\n    setCartItems(updated);\n  };\n  const increaseQuantity = unique_id => {\n    setCartItems(cartItems.map(product => product.unique_id === unique_id ? {\n      ...product,\n      quantity: product.quantity + 1\n    } : product));\n  };\n  const decreaseQuantity = unique_id => {\n    const updated = cartItems.map(product => product.unique_id === unique_id ? {\n      ...product,\n      quantity: product.quantity - 1\n    } : product).filter(product => product.quantity > 0);\n    setCartItems(updated);\n  };\n  const getTotal = () => {\n    return cartItems.reduce((sum, product) => sum + product.product_cost * product.quantity, 0);\n  };\n  const image_url = \"https://teekay.pythonanywhere.com/static/images/\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center text-info\",\n      children: \"Your Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center text-danger\",\n      children: \"Your cart is empty.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: cartItems.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card p-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: image_url + product.product_photo,\n              alt: product.product_name,\n              className: \"product_img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: product.product_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-dark\",\n                children: [\"Price: Ksh \", product.product_cost]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-center align-items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-secondary\",\n                  onClick: () => decreaseQuantity(product.unique_id),\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mx-2\",\n                  children: [\"Qty: \", product.quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-sm btn-secondary\",\n                  onClick: () => increaseQuantity(product.unique_id),\n                  children: \"+\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger btn-sm mt-2\",\n                onClick: () => removeFromCart(product.unique_id),\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this)\n        }, product.unique_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-info\",\n          children: [\"Total: Ksh \", getTotal().toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-success mt-2\",\n          onClick: () => navigate(\"/cartpayment\", {\n            state: {\n              products: cartItems,\n              totalCost: getTotal()\n            }\n          }),\n          children: \"Proceed to Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(Cart, \"kox8lxssi6pn05s3BBrS46cy42o=\", false, function () {\n  return [useNavigate];\n});\n_c = Cart;\nexport default Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Cart","_s","navigate","cartItems","setCartItems","stored","localStorage","getItem","parsed","JSON","parse","map","product","index","quantity","unique_id","id","Date","now","setItem","stringify","removeFromCart","updated","filter","increaseQuantity","decreaseQuantity","getTotal","reduce","sum","product_cost","image_url","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","src","product_photo","alt","product_name","onClick","toFixed","state","products","totalCost","_c","$RefreshReg$"],"sources":["/home/user/Desktop/YURIKIFARU/juju/src/components/Cart.jsx"],"sourcesContent":["// Cart.js\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Cart = () => {\n  const navigate = useNavigate();\n  const [cartItems, setCartItems] = useState([]);\n\n  useEffect(() => {\n    const stored = localStorage.getItem(\"cartItems\");\n    if (stored) {\n      const parsed = JSON.parse(stored).map((product, index) => ({\n        ...product,\n        quantity: product.quantity || 1,\n        unique_id: product.unique_id || `${product.id}-${index}-${Date.now()}`\n      }));\n      setCartItems(parsed);\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  }, [cartItems]);\n\n  const removeFromCart = (unique_id) => {\n    const updated = cartItems.filter(product => product.unique_id !== unique_id);\n    setCartItems(updated);\n  };\n\n  const increaseQuantity = (unique_id) => {\n    setCartItems(cartItems.map(product =>\n      product.unique_id === unique_id\n        ? { ...product, quantity: product.quantity + 1 }\n        : product\n    ));\n  };\n\n  const decreaseQuantity = (unique_id) => {\n    const updated = cartItems.map(product =>\n      product.unique_id === unique_id\n        ? { ...product, quantity: product.quantity - 1 }\n        : product\n    ).filter(product => product.quantity > 0);\n    setCartItems(updated);\n  };\n\n  const getTotal = () => {\n    return cartItems.reduce((sum, product) => sum + product.product_cost * product.quantity, 0);\n  };\n\n  const image_url = \"https://teekay.pythonanywhere.com/static/images/\";\n\n  return (\n    <div className=\"container mt-4\">\n      <h2 className=\"text-center text-info\">Your Cart</h2>\n      {cartItems.length === 0 ? (\n        <p className=\"text-center text-danger\">Your cart is empty.</p>\n      ) : (\n        <>\n          <div className=\"row\">\n            {cartItems.map(product => (\n              <div key={product.unique_id} className=\"col-md-4 mb-4\">\n                <div className=\"card p-2\">\n                  <img\n                    src={image_url + product.product_photo}\n                    alt={product.product_name}\n                    className=\"product_img\"\n                  />\n                  <div className=\"card-body text-center\">\n                    <h5>{product.product_name}</h5>\n                    <p className=\"text-dark\">Price: Ksh {product.product_cost}</p>\n                    <div className=\"d-flex justify-content-center align-items-center\">\n                      <button className=\"btn btn-sm btn-secondary\" onClick={() => decreaseQuantity(product.unique_id)}>-</button>\n                      <span className=\"mx-2\">Qty: {product.quantity}</span>\n                      <button className=\"btn btn-sm btn-secondary\" onClick={() => increaseQuantity(product.unique_id)}>+</button>\n                    </div>\n                    <button className=\"btn btn-danger btn-sm mt-2\" onClick={() => removeFromCart(product.unique_id)}>Remove</button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"text-center mt-4\">\n            <h4 className=\"text-info\">Total: Ksh {getTotal().toFixed(2)}</h4>\n            <button className=\"btn btn-outline-success mt-2\" onClick={() => navigate(\"/cartpayment\", {\n              state: { products: cartItems, totalCost: getTotal() }\n            })}>\n              Proceed to Checkout\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Cart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}