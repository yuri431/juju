{"ast":null,"code":"// // Cart.js\n// import React, { useEffect, useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n\n// const Cart = () => {\n//   const navigate = useNavigate();\n//   const [cartItems, setCartItems] = useState([]);\n\n//   useEffect(() => {\n//     const stored = localStorage.getItem(\"cartItems\");\n//     if (stored) {\n//       const parsed = JSON.parse(stored).map((product, index) => ({\n//         ...product,\n//         quantity: product.quantity || 1,\n//         unique_id: product.unique_id || `${product.id}-${index}-${Date.now()}`\n//       }));\n//       setCartItems(parsed);\n//     }\n//   }, []);\n\n//   useEffect(() => {\n//     localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n//   }, [cartItems]);\n\n//   const removeFromCart = (unique_id) => {\n//     const updated = cartItems.filter(product => product.unique_id !== unique_id);\n//     setCartItems(updated);\n//   };\n\n//   const increaseQuantity = (unique_id) => {\n//     setCartItems(cartItems.map(product =>\n//       product.unique_id === unique_id\n//         ? { ...product, quantity: product.quantity + 1 }\n//         : product\n//     ));\n//   };\n\n//   const decreaseQuantity = (unique_id) => {\n//     const updated = cartItems.map(product =>\n//       product.unique_id === unique_id\n//         ? { ...product, quantity: product.quantity - 1 }\n//         : product\n//     ).filter(product => product.quantity > 0);\n//     setCartItems(updated);\n//   };\n\n//   const getTotal = () => {\n//     return cartItems.reduce((sum, product) => sum + product.product_cost * product.quantity, 0);\n//   };\n\n//   const image_url = \"https://teekay.pythonanywhere.com/static/images/\";\n\n//   return (\n//     <div className=\"container mt-4\">\n//       <h2 className=\"text-center text-info\">Your Cart</h2>\n//       {cartItems.length === 0 ? (\n//         <p className=\"text-center text-danger\">Your cart is empty.</p>\n//       ) : (\n//         <>\n//           <div className=\"row\">\n//             {cartItems.map(product => (\n//               <div key={product.unique_id} className=\"col-md-4 mb-4\">\n//                 <div className=\"card p-2\">\n//                   <img\n//                     src={image_url + product.product_photo}\n//                     alt={product.product_name}\n//                     className=\"product_img\"\n//                   />\n//                   <div className=\"card-body text-center\">\n//                     <h5>{product.product_name}</h5>\n//                     <p className=\"text-dark\">Price: Ksh {product.product_cost}</p>\n//                     <div className=\"d-flex justify-content-center align-items-center\">\n//                       <button className=\"btn btn-sm btn-secondary\" onClick={() => decreaseQuantity(product.unique_id)}>-</button>\n//                       <span className=\"mx-2\">Qty: {product.quantity}</span>\n//                       <button className=\"btn btn-sm btn-secondary\" onClick={() => increaseQuantity(product.unique_id)}>+</button>\n//                     </div>\n//                     <button className=\"btn btn-danger btn-sm mt-2\" onClick={() => removeFromCart(product.unique_id)}>Remove</button>\n//                   </div>\n//                 </div>\n//               </div>\n//             ))}\n//           </div>\n//           <div className=\"text-center mt-4\">\n//             <h4 className=\"text-info\">Total: Ksh {getTotal().toFixed(2)}</h4>\n//             <button className=\"btn btn-outline-success mt-2\" onClick={() => navigate(\"/cartpayment\", {\n//               state: { products: cartItems, totalCost: getTotal() }\n//             })}>\n//               Proceed to Checkout\n//             </button>\n//           </div>\n//         </>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Cart;","map":{"version":3,"names":[],"sources":["/home/user/Desktop/YURIKIFARU/juju/src/components/Cart.jsx"],"sourcesContent":["// // Cart.js\n// import React, { useEffect, useState } from \"react\";\n// import { useNavigate } from \"react-router-dom\";\n\n// const Cart = () => {\n//   const navigate = useNavigate();\n//   const [cartItems, setCartItems] = useState([]);\n\n//   useEffect(() => {\n//     const stored = localStorage.getItem(\"cartItems\");\n//     if (stored) {\n//       const parsed = JSON.parse(stored).map((product, index) => ({\n//         ...product,\n//         quantity: product.quantity || 1,\n//         unique_id: product.unique_id || `${product.id}-${index}-${Date.now()}`\n//       }));\n//       setCartItems(parsed);\n//     }\n//   }, []);\n\n//   useEffect(() => {\n//     localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n//   }, [cartItems]);\n\n//   const removeFromCart = (unique_id) => {\n//     const updated = cartItems.filter(product => product.unique_id !== unique_id);\n//     setCartItems(updated);\n//   };\n\n//   const increaseQuantity = (unique_id) => {\n//     setCartItems(cartItems.map(product =>\n//       product.unique_id === unique_id\n//         ? { ...product, quantity: product.quantity + 1 }\n//         : product\n//     ));\n//   };\n\n//   const decreaseQuantity = (unique_id) => {\n//     const updated = cartItems.map(product =>\n//       product.unique_id === unique_id\n//         ? { ...product, quantity: product.quantity - 1 }\n//         : product\n//     ).filter(product => product.quantity > 0);\n//     setCartItems(updated);\n//   };\n\n//   const getTotal = () => {\n//     return cartItems.reduce((sum, product) => sum + product.product_cost * product.quantity, 0);\n//   };\n\n//   const image_url = \"https://teekay.pythonanywhere.com/static/images/\";\n\n//   return (\n//     <div className=\"container mt-4\">\n//       <h2 className=\"text-center text-info\">Your Cart</h2>\n//       {cartItems.length === 0 ? (\n//         <p className=\"text-center text-danger\">Your cart is empty.</p>\n//       ) : (\n//         <>\n//           <div className=\"row\">\n//             {cartItems.map(product => (\n//               <div key={product.unique_id} className=\"col-md-4 mb-4\">\n//                 <div className=\"card p-2\">\n//                   <img\n//                     src={image_url + product.product_photo}\n//                     alt={product.product_name}\n//                     className=\"product_img\"\n//                   />\n//                   <div className=\"card-body text-center\">\n//                     <h5>{product.product_name}</h5>\n//                     <p className=\"text-dark\">Price: Ksh {product.product_cost}</p>\n//                     <div className=\"d-flex justify-content-center align-items-center\">\n//                       <button className=\"btn btn-sm btn-secondary\" onClick={() => decreaseQuantity(product.unique_id)}>-</button>\n//                       <span className=\"mx-2\">Qty: {product.quantity}</span>\n//                       <button className=\"btn btn-sm btn-secondary\" onClick={() => increaseQuantity(product.unique_id)}>+</button>\n//                     </div>\n//                     <button className=\"btn btn-danger btn-sm mt-2\" onClick={() => removeFromCart(product.unique_id)}>Remove</button>\n//                   </div>\n//                 </div>\n//               </div>\n//             ))}\n//           </div>\n//           <div className=\"text-center mt-4\">\n//             <h4 className=\"text-info\">Total: Ksh {getTotal().toFixed(2)}</h4>\n//             <button className=\"btn btn-outline-success mt-2\" onClick={() => navigate(\"/cartpayment\", {\n//               state: { products: cartItems, totalCost: getTotal() }\n//             })}>\n//               Proceed to Checkout\n//             </button>\n//           </div>\n//         </>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default Cart;\n\n\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}